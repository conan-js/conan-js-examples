import { MetaInfo } from "./metaInfo";
import { Mutator, Mutators } from "../../conan-flow/domain/mutators";
import { Status } from "../../conan-flow/domain/status";
import { IPartial, IProducer } from "../..";
import { FlowEventTiming } from "../../conan-flow/domain/flowRuntimeEvents";
export interface MetaStatuses {
    starting: MetaInfo;
    init: MetaInfo;
    running: MetaInfo;
    idle: MetaInfo;
    idleOnTransaction: MetaInfo;
    error: MetaInfo;
}
export interface MetaMutators extends Mutators<MetaStatuses> {
    starting: MetaTransitions;
    init: MetaTransitions;
    running: MetaTransitions;
    idle: MetaTransitions;
    idleOnTransaction: MetaTransitions;
    error: MetaTransitions;
}
export interface MetaTransitions extends Mutator<MetaStatuses, any> {
    $onTransaction(timing: FlowEventTiming): MetaInfo;
    toInit(): Status<MetaStatuses, 'init'>;
    toRunning(): Status<MetaStatuses, 'running'>;
    toIdle(): Status<MetaStatuses, 'idle'>;
    toError(): Status<MetaStatuses, 'error'>;
}
export interface MetaSteps extends Mutator<MetaStatuses, any> {
    $onTransaction(timing: FlowEventTiming): MetaInfo;
}
export declare class MetaMutatorsFactory {
    static createTransitions(getStatus: IProducer<MetaInfo>, statusName: keyof MetaStatuses): IPartial<MetaTransitions>;
    static createSteps(getState: IProducer<MetaInfo>): MetaSteps;
}
